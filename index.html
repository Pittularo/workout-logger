<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Workout logger</title>
	<script>
	function get_date(){
		var ora = new Date().toLocaleDateString('it-IT', {weekday: 'long', month: 'numeric', day: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric'});
	 	return ora;
	 }
	function create_tr(table_id) {
	    let table_body = document.getElementById(table_id);
	        first_tr   = table_body.lastElementChild;
	        tr_clone   = first_tr.cloneNode(true);

	    table_body.append(tr_clone); //clona riga

	    let cacca = first_tr.children; //dichiara gli elementi della prima riga
	    cacca = Array.isArray(cacca) ? cacca : Object.values(cacca); //semplifica l'oggetto in array o quello che è
	    cacca[0].firstElementChild.value = get_date(); //ficca la data nel primo elemento della riga che hai appena dichiarato
	    cacca[6].firstElementChild.hidden = true; //nascondi il bottone '+'

		//metti nel placeholder della nuova riga, i valori della riga precedente
	    let last_tr = table_body.lastElementChild;
	    	ultimo  = last_tr.children;
	    ultimo = Array.isArray(ultimo) ? ultimo : Object.values(ultimo);
	    // 
		//metti come placeholder i valori della riga prima, e i placeholder lasciati vuoti falli valori
		for (let i = 0; i < 5; i++) {
			if (cacca[i].firstElementChild.value === "") {
			  cacca[i].firstElementChild.value=cacca[i].firstElementChild.placeholder;
			}
			ultimo[i].firstElementChild.placeholder = cacca[i].firstElementChild.value;
		}
		for (let i = 0; i < 6; i++) {
			ultimo[i].firstElementChild.value = "";
		}
	}
	 </script>
</head>
<body style="background-color: #ff8888;">
	<form method="POST" action="https://api.sheetmonkey.io/form/7QJpfBYDnYZn5ePqAPvMJZ">
	  <table class="_table">
	    <thead>
	      <th>Date</th>
	      <th>Exercise</th>
	      <th>Sets</th>
	      <th>Reps</th>
	      <th>Kg</th>
	      <th>Note</th>
	    </thead>
        <tbody id="tabella_corpo">
			<tr>
        		<td>
        			<input type="text" id="date" name="date" readonly></td> <!-- DATA -->
			  	<td>
			  	<select id="code" name="code"> <!-- è NAME che crea la colonna -->.
					<option value=""></option>
					<option value="E001" name="Bench press db">Bench press db</option>
					<option value="E010">Bent-over row</option>
					<option value="E013">Bulgarian split squat</option>
					<option value="E018">Calf raise</option>
					<option value="E002">Crunch</option>
					<option value="E003">Curl</option>
					<option value="E009">Deadlift</option>
					<option value="E019">Dips</option>
					<option value="E014">Face pull</option>
					<option value="E012">Front raises</option>
					<option value="E017">Hip thrust</option>
					<option value="E020">Inclined db fly</option>
					<option value="E016">Inclined db press</option>
					<option value="E015">Lying hamstring db curl</option>
					<option value="E021">Plank</option>
					<option value="E007">Pull-up</option>
					<option value="E008">Push-up</option>
					<option value="E022">Push-up declined</option>
					<option value="E023">Push-up diamond</option>
					<option value="E024">Push-up inclined</option>
					<option value="E004">Shoulder press</option>
					<option value="E005">Side raises</option>
					<option value="E006">Squat</option>
					<option value="E025">Tricep extensions</option>
					<option value="E011">Tricep kickbacks</option>
				</select></td>
        		<td>
					<input type="number" step="1" min="0" max="10" id="sets" name="sets" value=""></td> <!-- SETS -->
				<td>
					<input type="number" step="0.5" min="0" max="100" id="reps" name="reps" value=""></td> <!-- REPS -->
				<td>
					<input type="number" step="1" min="0" max="100" id="kg" name="kg" value=""></td> <!-- KG -->
				<td>
					<input type="text" id="note" name="note" value=""></td> <!-- NOTE -->
            	<td>
          			<button onclick="create_tr('tabella_corpo')" type="button">+</button></td> <!-- TASTO -->
        	</tr>
	    </tbody>
	  </table>
	<div style="height:0.5em;"></div>
	<button type="submit">Fine workout</button></td>
	</form>
</body>
</html>